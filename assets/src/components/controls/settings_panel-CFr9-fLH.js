import{a as V,j as t}from"../../../vendor-6J9SHA5K.js";import{L as n}from"../ui/label-DRcJgP84.js";import{S as i}from"../ui/switch-CuMALYVa.js";import{I as l}from"../ui/input-BNe9iBRB.js";import{D as G}from"./device_choice-CNIPXu8V.js";import{d as a}from"../../lib/data_store-DFUoucx7.js";import{u as s}from"../../lib/timeline_state-Dw4tu5kw.js";import{s as r}from"../../lib/helpers-CGQdiVDq.js";import{f as I}from"../../lib/consts-Cj2W_VlV.js";function Y(){const{setRate:h,duration:d}=V(),g=s(e=>e.appSettings.isKeyboardGestureEnabled),p=s(e=>e.appSettings.isMultiSelectActive),u=s(e=>e.appSettings.showAudioTimeStamp),m=s(e=>e.appSettings.snapToBpmActive),S=s(e=>e.appSettings.snapSensitivity),x=s(e=>e.appSettings.alsoSnapDuration),B=s(e=>e.appSettings.bpmValue),w=s(e=>e.appSettings.showHeavyUi),b=s(e=>e.toggleShowAudioTimeStamp),f=s(e=>e.toggleKeyboardGesture),v=s(e=>e.toggleMultiSelect),k=s(e=>e.toggleAlsoSnapBlockDuration),y=s(e=>e.toggleShowShowHeavyUi),j=s(e=>e.toggleSnapToBpm),C=s(e=>e.setBpmForSnap),M=s(e=>e.setSnapSensitivity),A=e=>{a.set("overwriteBrightnessWithNewBlock",e)},P=e=>{const o=parseInt(e.currentTarget.value);o*60>d&&r("Warning!","The BPM is on the low side, may cause bad experience with Snap to BPM feature. Provided it is on.",1500),C(o)},T=e=>{const o=parseInt(e.currentTarget.value);M(o)},N=e=>{const o=Math.round(parseInt(e.currentTarget.value));o>=50&&o<=1e4?a.set("newBlockDurationMilis",o):r("Invalid Value - Glyph Duration","Should be between 50ms to 10s")},D=e=>{const o=parseInt(e.currentTarget.value),c=Math.round(o/100*4095);o>=1&&o<=100?a.set("newBlockBrightness",c):r("Invalid Value - Glyph Brightness","Should be between 1% to 100%")},F=e=>{const o=parseFloat(e.currentTarget.value);if(o>=.5&&o<=2){a.set("audioSpeed",o);try{h(o)}catch(c){console.error(`Error while setting audio rate: ${c}`)}}else r("Invalid Value - Audio Speed","Should be between 0.5x to 2x")};return t.jsx(t.Fragment,{children:t.jsx("form",{className:"space-y-2  ",children:t.jsxs("fieldset",{className:"grid grid-cols-2 items-center gap-2 border rounded-lg p-4 overflow-y-scroll h-[270px]",children:[t.jsx("legend",{className:"-ml-1 px-1 font-medium font-[ndot] text-lg tracking-wide",children:"SETTINGS"}),t.jsx(n,{htmlFor:"multiSelect",className:"text-lg font-light",children:"Device"}),t.jsx(G,{}),t.jsxs(n,{htmlFor:"newBlockDurationMilis",className:"text-lg font-light",children:["New Glyph Duration (ms)",t.jsx("br",{})]}),t.jsx(l,{id:"newBlockDurationMilis",type:"number",defaultValue:a.get("newBlockDurationMilis")??500,max:1e4,min:50,step:1,onChange:N}),t.jsxs(n,{htmlFor:"newBlockBrightness",className:"text-lg font-light",children:["New Glyph Brightness (%)",t.jsx("br",{})]}),t.jsx(l,{onChange:D,id:"newBlockBrightness",type:"number",defaultValue:(a.get("newBlockBrightness")??3072)/I*100,max:100,min:1,step:1}),t.jsxs(n,{htmlFor:"newBlockBrightness",className:"text-lg font-light",title:"Set audio's playback speed. Values can range from 0.5x till 2x, in steps of 0.1x, if needed.",children:["Audio Speed",t.jsx("br",{})]}),t.jsx(l,{onChange:F,id:"newBlockBrightness",type:"number",defaultValue:a.get("audioSpeed")??1,max:2,min:.5,step:.1}),t.jsx(n,{htmlFor:"multiSelect",className:"text-lg font-light",children:"Enable Multi-Select"}),t.jsx(i,{id:"multiSelect",onCheckedChange:v,checked:p}),t.jsx(n,{htmlFor:"keyboardControls",className:"text-lg font-light",title:`Enables keyboard controls like:
-Pressing Spacebar to Play / Pause Audio.
-Pressing Delete / Backspace to Delete selected Glyph Blocks
-Shift to Select multiple at a time
-Ctrl+Z / Cmd+Z to Undo
-Ctrl+Y to Redo
-Ctrl+A / Cmd + A to Select All`,children:"Enable Keyboard Gesture"}),t.jsx(i,{id:"keyboardControls",onCheckedChange:f,checked:g}),t.jsx(n,{htmlFor:"showAudioTimeStamp",className:"text-lg font-light",title:"Overwrite the brightness of blocks that would be pasted with the new block brightness value?",children:"Show Audio TimeStamp"}),t.jsx(i,{id:"showAudioTimeStamp",onCheckedChange:b,checked:u}),t.jsx(n,{htmlFor:"snapToBPM",className:"text-lg font-light",title:"Enable for blocks to snap to Audio BPM?",children:"Snap to BPM"}),t.jsx(i,{id:"snapToBPM",onCheckedChange:j,checked:m}),t.jsx(n,{htmlFor:"snapToDurationToBPM",className:"text-lg font-light",title:"Enable for blocks' duration to also snap to Audio BPM? Snap to BPM must be switched on too, for this to apply.",children:"Snap Duration to BPM"}),t.jsx(i,{id:"snapToDurationToBPM",onCheckedChange:k,checked:x}),t.jsxs(n,{htmlFor:"setBPM",className:"text-lg font-light",title:"Set audio's BPM. Applies to and used to configure the above, Snap to BPM settings.",children:["Audio BPM",t.jsx("br",{})]}),t.jsx(l,{onChange:P,id:"setBPM",type:"number",defaultValue:B,max:700,min:1,step:1}),t.jsxs(n,{htmlFor:"snapSens",className:"text-lg font-light",title:"Higher value here means lower sensitivity overall.",children:["Snap Inverse Sensitivity",t.jsx("br",{})]}),t.jsx(l,{onChange:T,id:"snapSens",type:"number",defaultValue:S,max:25,min:13,step:1}),t.jsx(n,{htmlFor:"renderHeavy",className:"text-lg font-light",title:"Render more demanding UI? Only do this if PC can support it!",children:"Switch to Heavy UI?"}),t.jsx(i,{id:"renderHeavy",onCheckedChange:y,defaultValue:w.toString()}),t.jsx(n,{htmlFor:"overwriteBrightness",className:"text-lg font-light",title:"Overwrite the brightness of blocks that would be pasted with the new block brightness value?",children:"Modify Paste Brightness"}),t.jsx(i,{id:"overwriteBrightness",onCheckedChange:A,defaultValue:a.get("overwriteBrightnessWithNewBlock")})]})})})}export{Y as S};
