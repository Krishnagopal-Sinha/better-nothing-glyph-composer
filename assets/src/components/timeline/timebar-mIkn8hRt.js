import{a as k,r as p,j as s}from"../../../vendor-6J9SHA5K.js";import{T}from"./timebarBlocks-DVEcbB-k.js";import{d as j}from"../../lib/data_store-DFUoucx7.js";import{u as y}from"../../lib/timeline_state-Dw4tu5kw.js";function V(){const t=y(o=>o.appSettings.timelinePixelFactor),{duration:n,seek:i,playing:m,play:d,pause:x,setVolume:r,volume:f}=k(),b=Math.ceil(n),[a,h]=p.useState(),[l,P]=p.useState(),c=[];for(let o=0;o<b;o++)c.push(s.jsx(T,{secondToRespresent:o,setLoopAsUiPosition:h,setLoopBsUiPosition:P},o));return s.jsxs("div",{title:`Seek audio by touching anywhere here...
Right-click for loop options`,className:"bg-red-700 flex cursor-pointer z-10 sticky top-0",onClick:o=>{o.preventDefault();const g=f,e=((j.get("editorScrollX")??0)+o.clientX)/t;m?i(e>.1?e-.09:e):(r(0),d(),i(e>.1?e-.09:e),setTimeout(x,50),setTimeout(()=>r(g),50))},children:[a&&s.jsx(u,{position:a,timelinePixelFactor:t,children:"A"}),l&&l>0&&s.jsx(u,{position:l,timelinePixelFactor:t,children:"B"}),c]})}function u({children:t,position:n,timelinePixelFactor:i}){return s.jsx("div",{className:"absolute bg-white text-black font-bold px-[2px] leading-[18px] rounded-b-full select-none",style:{left:`${n/1e3*i-4}px`},children:t})}export{V as T};
